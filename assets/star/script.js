// JavaScript content truncated for brevity